import { ICinema, ICinemaGroup } from "@/interfaces/ICinema";
import { apiFetch } from "./client";

interface GetCinemasParams {
  cityId?: string | null;
  limit?: number;
}

export const getCinemas = async (
  params: GetCinemasParams = {}
): Promise<{ data: ICinemaGroup[] }> => {
  const response = await apiFetch<{ data: ICinemaGroup[] }>("/cinemas", {
    params: {
      cityId: params.cityId ?? "",
      limit: params.limit?.toString() ?? "50",
    },
  });

  return response;
};

export const getCinemaById = async (id: string): Promise<ICinema> => {
  const cinema = await apiFetch<ICinema>(`/cinemas/${id}`);
  return cinema;
};
